<!DOCTYPE html>
<html lang="zh-CN">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <title>Document</title>
</head>
<style>
    .tab {
        display: flex;
    }

    .tab-item {
        width: 200px;
        height: 50px;
        line-height: 50px;
        text-align: center;
        border: 1px solid #ddd;
        color: black;
    }

    .active {
        background-color: #ddd;
    }
</style>

<body>
    <div id="app">
        <!-- 
            å¯¼èˆªçš„ æœ€å¤–å±‚
            item.path === currentTab è¡¨ç¤ºè¯¥é¡¹è¢«é€‰ä¸­
         -->
        <div class="tab">
            <div :class="['tab-item',{active:item.path==currentTab}]" @click.prevent.stop="switchTab(index)"
                v-for="item,index in navs">{{item.title}}</div>
        </div>
        <div class="content">
            <!-- è§†å›¾çš„å‡ºå£ é…ç½® -->
            <router-view></router-view>
        </div>
    </div>
</body>
<script src="https://cn.vuejs.org/js/vue.js"></script>
<!-- 1. å¼•å…¥ React Router éœ€è¦çš„ä¾èµ–åº“ -->
<script src="https://unpkg.com/vue-router/dist/vue-router.js"></script>
<script>
    //  ä¸»é¡µç»„ä»¶
    let Home = Vue.component("home", {
        // æ¥å—çˆ¶ç»„ä»¶çš„ idå±æ€§
        props: ["id"],
        template: `<div>ä¸»é¡µ</div>`
    })
    // å…¬å¸ä»‹ç»
    let Introduce = Vue.component("introduce", {
        // æ¥å—çˆ¶ç»„ä»¶çš„ idå±æ€§
        props: ["id"],
        template: `<div>å…¬å¸ä»‹ç»</div>`
    })
    // äº§å“è¯¦æƒ…
    let Product = Vue.component("product", {
        // æ¥å—çˆ¶ç»„ä»¶çš„ idå±æ€§
        props: ["query"],
        template: `<div>äº§å“è¯¦æƒ…</div>`
    })
    // 1. é…ç½® è·¯ç”±å’Œ ç»„ä»¶ä¹‹é—´çš„æ˜ å°„ å…³ç³»
    let routes = [{
        path: "/home/:id",
        name: "home", //è§„åˆ™å¯¹åº”çš„ åç§°
        component: Home,
        alias: "/home1",
        // å¸ƒå°”å€¼å½¢å¼
        props: true  //ä¼šå°† $route.params ä½œä¸ºprops ä¼ ç»™å­ç»„ä»¶
    }, {
        path: "/introduce",
        component: Introduce,
        // props æ˜¯å¯¹è±¡çš„æƒ…å†µ
        props: {
            id: "ğŸ‘"
        }
    }, {
        path: "/product",
        name: "product",
        component: Product,
        //é€šè¿‡å‡½æ•°ä¼ 
        props: (route) => ({ query: route.query })

    }]
    //2. åˆå§‹åŒ– VueRouterçš„å®ä¾‹
    const router = new VueRouter({
        routes
    })
    //3. å°†router ä½œä¸ºå±æ€§ä¼ å…¥åˆ°appä¸­
    let app = new Vue({
        router,
        el: "#app",
        data: {
            currentTab: "/home/123", //å½“å‰æ¸²æŸ“çš„ç»„ä»¶
            navs: [{
                path: "/home/123",
                title: "ä¸»é¡µ"
            }, {
                path: "/introduce",
                title: "å…¬å¸ä»‹ç»"

            }, {
                path: "/product",
                title: "äº§å“è¯¦æƒ…"
            }]
        },
        methods: {
            // 4. åˆ‡æ¢ èœå•æ äº‹ä»¶
            switchTab: function (index) {
                // ä½¿ç”¨push åˆ‡æ¢ è·¯ç”±
                this.$router.push(this.navs[index].path)
            }
        },
    })
</script>

</html>